port 1194
proto udp
dev tun

persist-key
persist-tun
keepalive 10 120

# Unified address pool (customise as needed)
topology subnet
server 10.8.0.0 255.255.255.0

# PKI assets (replace with your paths)
dh none
ca /etc/openvpn/server/pki/ca.crt
cert /etc/openvpn/server/pki/issued/server_primary.crt
key /etc/openvpn/server/pki/private/server_primary.key
tls-crypt /etc/openvpn/server/pki/tc.key
crl-verify /etc/openvpn/server/pki/crl.pem

# Crypto defaults
auth SHA256
cipher AES-128-GCM
data-ciphers AES-128-GCM
tls-version-min 1.2
tls-cipher TLS-ECDHE-ECDSA-WITH-AES-128-GCM-SHA256

# Authentication plug-ins (optional)
# auth-user-pass-verify /usr/lib/openvpn/plugins/openvpn-auth via-file
# username-as-common-name

script-security 3
client-to-client
client-config-dir /etc/openvpn/server/ccd
max-clients 200

# Monitoring
status /etc/openvpn/server/openvpn-status.log
management 127.0.0.1 7505
verb 3
explicit-exit-notify 1

# Example push directives (adjust to your topology)
# push "dhcp-option DNS 1.1.1.1"
# push "redirect-gateway def1"
# push "route 10.255.0.0 255.255.255.248"

# Optional custom environment overrides for scripts
#setenv auth_api https://auth.example.com/login
#setenv ovpn_history_api https://auth.example.com/ovpn/history

